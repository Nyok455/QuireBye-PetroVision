<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Field Management | Developer Docs</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { background:#f7f9fb; }
    pre { background:#0f172a; color:#e2e8f0; padding:1rem; border-radius:8px; overflow:auto; }
    code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    .section { margin-bottom: 2rem; }
  </style>
</head>
<body class="py-4">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h1 class="h3 mb-0">Developer Documentation</h1>
      <a href="index.html" class="btn btn-primary btn-sm"><i class="fa fa-gauge me-1"></i> Open Dashboard</a>
    </div>
    <p class="text-muted">This page summarizes the project structure and provides section code blocks for quick reference.</p>

    <div class="section">
      <h2 class="h5">1) Project Structure</h2>
      <pre><code>Field Management/
├── index.html               # Main dashboard UI
├── final.html               # Developer documentation (this page)
├── hh.html                  # Analyst features & usage guide
├── css/
│   ├── style.css
│   └── components/
│       ├── header.css
│       ├── charts.css
│       └── modals.css
├── js/
│   ├── app.js               # Entry point (now modularized)
│   ├── modules/
│   │   ├── dataHandler.js   # Data generation, KPI calc, anomalies, forecasts
│   │   ├── chartRenderer.js # All chart rendering
│   │   ├── uiComponents.js  # DOM updates (KPIs, table, top wells, anomalies)
│   │   └── fileProcessor.js # CSV export/template
│   └── utils/
│       ├── helpers.js       # Common helpers
│       └── constants.js     # Constants & config
└── assets/ (optional)
</code></pre>
    </div>

    <div class="section">
      <h2 class="h5">2) HTML Sections (index.html)</h2>
      <details class="mb-2" open>
        <summary class="fw-semibold">Navigation</summary>
        <pre><code>&lt;nav class="navbar navbar-expand-lg navbar-dark"&gt; ... &lt;/nav&gt;</code></pre>
      </details>
      <details class="mb-2" open>
        <summary class="fw-semibold">Home page</summary>
        <pre><code>&lt;section id="home" class="page-section"&gt; ... &lt;/section&gt;</code></pre>
      </details>
      <details class="mb-2" open>
        <summary class="fw-semibold">Dashboard</summary>
        <pre><code>&lt;section id="dashboard" class="page-section active"&gt;
  &lt;header class="dashboard-header"&gt; ... &lt;/header&gt;
  &lt;div class="filter-bar"&gt; ... &lt;/div&gt;
  &lt;div class="top-wells-bar"&gt; ... &lt;/div&gt;
  &lt;div class="dashboard-content"&gt;
    - KPIs, Charts, Wells Table
  &lt;/div&gt;
&lt;/section&gt;</code></pre>
      </details>
      <details class="mb-2">
        <summary class="fw-semibold">Projects & Footer</summary>
        <pre><code>&lt;section id="projects"&gt; ... &lt;/section&gt;
&lt;footer id="contact"&gt; ... &lt;/footer&gt;</code></pre>
      </details>
    </div>

    <div class="section">
      <h2 class="h5">3) Core JS Modules</h2>
      <details class="mb-2" open>
        <summary class="fw-semibold">app.js (entry)</summary>
        <pre><code>// Imports modules and wires everything together
import { DataHandler } from './modules/dataHandler.js';
import { ChartRenderer } from './modules/chartRenderer.js';
import { UIComponents } from './modules/uiComponents.js';
import { FileProcessor } from './modules/fileProcessor.js';

class OilGasDashboard { /* init, charts, table, upload, settings */ }
new OilGasDashboard();</code></pre>
      </details>
      <details class="mb-2" open>
        <summary class="fw-semibold">modules/dataHandler.js</summary>
        <pre><code>// Generates sample data, processes CSV, KPIs, anomalies, forecasts
export class DataHandler {
  generateSampleData() { /* uses CONSTANTS.FIELDS */ }
  processCSVData(csv) { /* parse to wells */ }
  calcKPIs() { /* totals */ }
  detectAnomalies({ changeThreshold, highWaterCut } = {}) { /* flags */ }
  forecastDecline({ monthlyDecline, months } = {}) { /* per-field */ }
}</code></pre>
      </details>
      <details class="mb-2">
        <summary class="fw-semibold">modules/chartRenderer.js</summary>
        <pre><code>// Renders: production trend, status doughnut, field bar, type pie, forecast
export class ChartRenderer { /* Chart.js composition */ }</code></pre>
      </details>
      <details class="mb-2">
        <summary class="fw-semibold">modules/uiComponents.js</summary>
        <pre><code>// Updates: KPIs, Top Wells, Table, Anomalies list
export class UIComponents { /* DOM updates only */ }</code></pre>
      </details>
      <details class="mb-2">
        <summary class="fw-semibold">modules/fileProcessor.js</summary>
        <pre><code>// CSV export + template generation used in Upload modal
export class FileProcessor { exportCSV(wells) { ... } makeTemplateCSV() { ... } }</code></pre>
      </details>
      <details class="mb-2">
        <summary class="fw-semibold">utils/helpers.js & utils/constants.js</summary>
        <pre><code>// helpers: updateDateTime, parseCSV, randoms
// constants: fields, status distribution, shares, analytics thresholds</code></pre>
      </details>
    </div>

    <div class="section">
      <h2 class="h5">4) Analyst-Oriented Features</h2>
      <ul>
        <li><strong>Anomaly detection</strong>: flags large % changes and high water cut</li>
        <li><strong>Decline forecasts</strong>: simple exponential decline by field</li>
        <li><strong>CSV workflow</strong>: upload parsing, export current dataset</li>
        <li><strong>Top wells</strong>: quick production leaders panel</li>
      </ul>
    </div>

    <div class="text-muted small">Last updated: <span id="ts"></span></div>
  </div>

  <script>
    document.getElementById('ts').textContent = new Date().toLocaleString();
  </script>
</body>
</html>